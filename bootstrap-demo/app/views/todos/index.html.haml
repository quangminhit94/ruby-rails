
%p#notice= notice
%h1.text-red Todos
%table
  %thead
    %tr
      %th Title
      %th Notes
      %th{:colspan => "3"}
  %tbody
    - @todos.each do |todo|
      %tr
        %td
          %span.has-tooltip{"data-toggle" => "tooltip", :title => "Created on #{todo.created_at.strftime("%m/%e/%Y at %w:%M %p")}, Last modified on #{todo.updated_at.strftime("%m/%e/%Y at %w:%M %p")}"}
            = todo.title        
        - if todo.notes?
          / Button trigger modal
          %button.btn.btn-link{"data-target" => "#todo-#{todo.id}-notes", "data-toggle" => "modal"}
            View notes
        - if todo.notes?
          %button.btn.btn-link.has-popover{"data-content" => "#{todo.notes}", "data-toggle" => "popover", :title => "Notes", :type => "button"} View notes (popover)

          / Modal
          .modal.fade{"aria-hidden" => "true", "aria-labelledby" => "todo-#{todo.id}-label", :id => "todo-#{todo.id}-notes", :role => "dialog", :tabindex => "-1"}
            .modal-dialog
              .modal-content
                .modal-header
                  %h4.modal-title{:id => "todo-#{todo.id}-label"} Notes
                .modal-body
                  = todo.notes
                .modal-footer
                  %button.btn.btn-primary{"data-dismiss" => "modal", :type => "button"} Close
        %td= link_to 'Show', todo
        %td= link_to 'Edit', edit_todo_path(todo)
        %td= link_to 'Destroy', todo, method: :delete, data: { confirm: 'Are you sure?' }
%br/
%i.glyphicon.glyphicon-plus
%button.btn-success= link_to 'New Todo', new_todo_path
  

